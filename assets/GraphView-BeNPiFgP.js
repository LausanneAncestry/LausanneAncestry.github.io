import{S as ir,r as vr,b as Ar,i as J,d as hr,e as Fr,f as cr,g as Sr,h as Nr,j as Br,k as Cr,c as V,a as $,F as $r,o as E,_ as Pr}from"./index-Bd-WfM9r.js";function G(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function zr(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function gr(r){let e,n,t;r.length!==2?(e=G,n=(s,u)=>G(r(s),u),t=(s,u)=>r(s)-u):(e=r===G||r===zr?r:Ir,n=r,t=r);function a(s,u,h=0,d=s.length){if(h<d){if(e(u,u)!==0)return d;do{const f=h+d>>>1;n(s[f],u)<0?h=f+1:d=f}while(h<d)}return h}function i(s,u,h=0,d=s.length){if(h<d){if(e(u,u)!==0)return d;do{const f=h+d>>>1;n(s[f],u)<=0?h=f+1:d=f}while(h<d)}return h}function o(s,u,h=0,d=s.length){const f=a(s,u,h,d-1);return f>h&&t(s[f-1],u)>-t(s[f],u)?f-1:f}return{left:a,center:o,right:i}}function Ir(){return 0}function Or(r){return r===null?NaN:+r}const Rr=gr(G),Tr=Rr.right;gr(Or).center;function Vr(r,e){let n=0,t,a=0,i=0;for(let o of r)o!=null&&(o=+o)>=o&&(t=o-a,a+=t/++n,i+=t*(o-a));if(n>1)return i/(n-1)}function Er(r,e){const n=Vr(r);return n&&Math.sqrt(n)}class sr extends Map{constructor(e,n=Gr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[t,a]of e)this.set(t,a)}get(e){return super.get(ur(this,e))}has(e){return super.has(ur(this,e))}set(e,n){return super.set(Dr(this,e),n)}delete(e){return super.delete(Lr(this,e))}}function ur({_intern:r,_key:e},n){const t=e(n);return r.has(t)?r.get(t):n}function Dr({_intern:r,_key:e},n){const t=e(n);return r.has(t)?r.get(t):(r.set(t,n),n)}function Lr({_intern:r,_key:e},n){const t=e(n);return r.has(t)&&(n=r.get(t),r.delete(t)),n}function Gr(r){return r!==null&&typeof r=="object"?r.valueOf():r}const Wr=Math.sqrt(50),Yr=Math.sqrt(10),Xr=Math.sqrt(2);function W(r,e,n){const t=(e-r)/Math.max(0,n),a=Math.floor(Math.log10(t)),i=t/Math.pow(10,a),o=i>=Wr?10:i>=Yr?5:i>=Xr?2:1;let s,u,h;return a<0?(h=Math.pow(10,-a)/o,s=Math.round(r*h),u=Math.round(e*h),s/h<r&&++s,u/h>e&&--u,h=-h):(h=Math.pow(10,a)*o,s=Math.round(r/h),u=Math.round(e/h),s*h<r&&++s,u*h>e&&--u),u<s&&.5<=n&&n<2?W(r,e,n*2):[s,u,h]}function qr(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const t=e<r,[a,i,o]=t?W(e,r,n):W(r,e,n);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(t)if(o<0)for(let h=0;h<s;++h)u[h]=(i-h)/-o;else for(let h=0;h<s;++h)u[h]=(i-h)*o;else if(o<0)for(let h=0;h<s;++h)u[h]=(a+h)/-o;else for(let h=0;h<s;++h)u[h]=(a+h)*o;return u}function U(r,e,n){return e=+e,r=+r,n=+n,W(r,e,n)[2]}function Hr(r,e,n){e=+e,r=+r,n=+n;const t=e<r,a=t?U(e,r,n):U(r,e,n);return(t?-1:1)*(a<0?1/-a:a)}function Jr(r,e){let n=0,t=0;for(let a of r)a!=null&&(a=+a)>=a&&(++n,t+=a);if(n)return t/n}function Ur(r,e,n){r=+r,e=+e,n=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+n;for(var t=-1,a=Math.max(0,Math.ceil((e-r)/n))|0,i=new Array(a);++t<a;)i[t]=r+t*n;return i}function Zr(r){return r}var q=1,H=2,Z=3,I=4,fr=1e-6;function Kr(r){return"translate("+r+",0)"}function Qr(r){return"translate(0,"+r+")"}function re(r){return e=>+r(e)}function ee(r,e){return e=Math.max(0,r.bandwidth()-e*2)/2,r.round()&&(e=Math.round(e)),n=>+r(n)+e}function te(){return!this.__axis}function jr(r,e){var n=[],t=null,a=null,i=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=r===q||r===I?-1:1,d=r===I||r===H?"x":"y",f=r===q||r===Z?Kr:Qr;function c(p){var b=t??(e.ticks?e.ticks.apply(e,n):e.domain()),k=a??(e.tickFormat?e.tickFormat.apply(e,n):Zr),j=Math.max(i,0)+s,w=e.range(),x=+w[0]+u,v=+w[w.length-1]+u,S=(e.bandwidth?ee:re)(e.copy(),u),m=p.selection?p.selection():p,A=m.selectAll(".domain").data([null]),M=m.selectAll(".tick").data(b,e).order(),N=M.exit(),B=M.enter().append("g").attr("class","tick"),y=M.select("line"),l=M.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(B),y=y.merge(B.append("line").attr("stroke","currentColor").attr(d+"2",h*i)),l=l.merge(B.append("text").attr("fill","currentColor").attr(d,h*j).attr("dy",r===q?"0em":r===Z?"0.71em":"0.32em")),p!==m&&(A=A.transition(p),M=M.transition(p),y=y.transition(p),l=l.transition(p),N=N.transition(p).attr("opacity",fr).attr("transform",function(g){return isFinite(g=S(g))?f(g+u):this.getAttribute("transform")}),B.attr("opacity",fr).attr("transform",function(g){var _=this.parentNode.__axis;return f((_&&isFinite(_=_(g))?_:S(g))+u)})),N.remove(),A.attr("d",r===I||r===H?o?"M"+h*o+","+x+"H"+u+"V"+v+"H"+h*o:"M"+u+","+x+"V"+v:o?"M"+x+","+h*o+"V"+u+"H"+v+"V"+h*o:"M"+x+","+u+"H"+v),M.attr("opacity",1).attr("transform",function(g){return f(S(g)+u)}),y.attr(d+"2",h*i),l.attr(d,h*j).text(k),m.filter(te).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",r===H?"start":r===I?"end":"middle"),m.each(function(){this.__axis=S})}return c.scale=function(p){return arguments.length?(e=p,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),c):n.slice()},c.tickValues=function(p){return arguments.length?(t=p==null?null:Array.from(p),c):t&&t.slice()},c.tickFormat=function(p){return arguments.length?(a=p,c):a},c.tickSize=function(p){return arguments.length?(i=o=+p,c):i},c.tickSizeInner=function(p){return arguments.length?(i=+p,c):i},c.tickSizeOuter=function(p){return arguments.length?(o=+p,c):o},c.tickPadding=function(p){return arguments.length?(s=+p,c):s},c.offset=function(p){return arguments.length?(u=+p,c):u},c}function ne(r){return jr(Z,r)}function ae(r){return jr(I,r)}function D(r){return typeof r=="string"?new ir([[document.querySelector(r)]],[document.documentElement]):new ir([[r]],vr)}function oe(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,t=e.slice(),a;return function(i){for(a=0;a<n;++a)t[a]=r[a]*(1-i)+e[a]*i;return t}}function ie(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function he(r,e){var n=e?e.length:0,t=r?Math.min(n,r.length):0,a=new Array(t),i=new Array(n),o;for(o=0;o<t;++o)a[o]=rr(r[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(s){for(o=0;o<t;++o)i[o]=a[o](s);return i}}function ce(r,e){var n=new Date;return r=+r,e=+e,function(t){return n.setTime(r*(1-t)+e*t),n}}function se(r,e){var n={},t={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?n[a]=rr(r[a],e[a]):t[a]=e[a];return function(i){for(a in n)t[a]=n[a](i);return t}}function rr(r,e){var n=typeof e,t;return e==null||n==="boolean"?Ar(e):(n==="number"?J:n==="string"?(t=cr(e))?(e=t,hr):Fr:e instanceof cr?hr:e instanceof Date?ce:ie(e)?oe:Array.isArray(e)?he:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?se:J)(r,e)}function ue(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function fe(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Y(r,e){if((n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var n,t=r.slice(0,n);return[t.length>1?t[0]+t.slice(2):t,+r.slice(n+1)]}function z(r){return r=Y(Math.abs(r)),r?r[1]:NaN}function le(r,e){return function(n,t){for(var a=n.length,i=[],o=0,s=r[0],u=0;a>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>t));)s=r[o=(o+1)%r.length];return i.reverse().join(e)}}function pe(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var ye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function X(r){if(!(e=ye.exec(r)))throw new Error("invalid format: "+r);var e;return new er({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}X.prototype=er.prototype;function er(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function de(r){r:for(var e=r.length,n=1,t=-1,a;n<e;++n)switch(r[n]){case".":t=a=n;break;case"0":t===0&&(t=n),a=n;break;default:if(!+r[n])break r;t>0&&(t=0);break}return t>0?r.slice(0,t)+r.slice(a+1):r}var kr;function be(r,e){var n=Y(r,e);if(!n)return r+"";var t=n[0],a=n[1],i=a-(kr=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=t.length;return i===o?t:i>o?t+new Array(i-o+1).join("0"):i>0?t.slice(0,i)+"."+t.slice(i):"0."+new Array(1-i).join("0")+Y(r,Math.max(0,e+i-1))[0]}function lr(r,e){var n=Y(r,e);if(!n)return r+"";var t=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+t:t.length>a+1?t.slice(0,a+1)+"."+t.slice(a+1):t+new Array(a-t.length+2).join("0")}const pr={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:fe,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>lr(r*100,e),r:lr,s:be,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function yr(r){return r}var dr=Array.prototype.map,br=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _e(r){var e=r.grouping===void 0||r.thousands===void 0?yr:le(dr.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",t=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",i=r.numerals===void 0?yr:pe(dr.call(r.numerals,String)),o=r.percent===void 0?"%":r.percent+"",s=r.minus===void 0?"−":r.minus+"",u=r.nan===void 0?"NaN":r.nan+"";function h(f){f=X(f);var c=f.fill,p=f.align,b=f.sign,k=f.symbol,j=f.zero,w=f.width,x=f.comma,v=f.precision,S=f.trim,m=f.type;m==="n"?(x=!0,m="g"):pr[m]||(v===void 0&&(v=12),S=!0,m="g"),(j||c==="0"&&p==="=")&&(j=!0,c="0",p="=");var A=k==="$"?n:k==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",M=k==="$"?t:/[%p]/.test(m)?o:"",N=pr[m],B=/[defgprs%]/.test(m);v=v===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function y(l){var g=A,_=M,F,or,O;if(m==="c")_=N(l)+_,l="";else{l=+l;var R=l<0||1/l<0;if(l=isNaN(l)?u:N(Math.abs(l),v),S&&(l=de(l)),R&&+l==0&&b!=="+"&&(R=!1),g=(R?b==="("?b:s:b==="-"||b==="("?"":b)+g,_=(m==="s"?br[8+kr/3]:"")+_+(R&&b==="("?")":""),B){for(F=-1,or=l.length;++F<or;)if(O=l.charCodeAt(F),48>O||O>57){_=(O===46?a+l.slice(F+1):l.slice(F))+_,l=l.slice(0,F);break}}}x&&!j&&(l=e(l,1/0));var T=g.length+l.length+_.length,C=T<w?new Array(w-T+1).join(c):"";switch(x&&j&&(l=e(C+l,C.length?w-_.length:1/0),C=""),p){case"<":l=g+l+_+C;break;case"=":l=g+C+l+_;break;case"^":l=C.slice(0,T=C.length>>1)+g+l+_+C.slice(T);break;default:l=C+g+l+_;break}return i(l)}return y.toString=function(){return f+""},y}function d(f,c){var p=h((f=X(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(z(c)/3)))*3,k=Math.pow(10,-b),j=br[8+b/3];return function(w){return p(k*w)+j}}return{format:h,formatPrefix:d}}var L,tr,wr;me({thousands:",",grouping:[3],currency:["$",""]});function me(r){return L=_e(r),tr=L.format,wr=L.formatPrefix,L}function ge(r){return Math.max(0,-z(Math.abs(r)))}function je(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(z(e)/3)))*3-z(Math.abs(r)))}function ke(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,z(e)-z(r))+1}function nr(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}const _r=Symbol("implicit");function ar(){var r=new sr,e=[],n=[],t=_r;function a(i){let o=r.get(i);if(o===void 0){if(t!==_r)return t;r.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],r=new sr;for(const o of i)r.has(o)||r.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(t=i,a):t},a.copy=function(){return ar(e,n).unknown(t)},nr.apply(a,arguments),a}function Mr(){var r=ar().unknown(void 0),e=r.domain,n=r.range,t=0,a=1,i,o,s=!1,u=0,h=0,d=.5;delete r.unknown;function f(){var c=e().length,p=a<t,b=p?a:t,k=p?t:a;i=(k-b)/Math.max(1,c-u+h*2),s&&(i=Math.floor(i)),b+=(k-b-i*(c-u))*d,o=i*(1-u),s&&(b=Math.round(b),o=Math.round(o));var j=Ur(c).map(function(w){return b+i*w});return n(p?j.reverse():j)}return r.domain=function(c){return arguments.length?(e(c),f()):e()},r.range=function(c){return arguments.length?([t,a]=c,t=+t,a=+a,f()):[t,a]},r.rangeRound=function(c){return[t,a]=c,t=+t,a=+a,s=!0,f()},r.bandwidth=function(){return o},r.step=function(){return i},r.round=function(c){return arguments.length?(s=!!c,f()):s},r.padding=function(c){return arguments.length?(u=Math.min(1,h=+c),f()):u},r.paddingInner=function(c){return arguments.length?(u=Math.min(1,c),f()):u},r.paddingOuter=function(c){return arguments.length?(h=+c,f()):h},r.align=function(c){return arguments.length?(d=Math.max(0,Math.min(1,c)),f()):d},r.copy=function(){return Mr(e(),[t,a]).round(s).paddingInner(u).paddingOuter(h).align(d)},nr.apply(f(),arguments)}function xr(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return xr(e())},r}function we(){return xr(Mr.apply(null,arguments).paddingInner(1))}function Me(r){return function(){return r}}function xe(r){return+r}var mr=[0,1];function P(r){return r}function K(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:Me(isNaN(e)?NaN:.5)}function ve(r,e){var n;return r>e&&(n=r,r=e,e=n),function(t){return Math.max(r,Math.min(e,t))}}function Ae(r,e,n){var t=r[0],a=r[1],i=e[0],o=e[1];return a<t?(t=K(a,t),i=n(o,i)):(t=K(t,a),i=n(i,o)),function(s){return i(t(s))}}function Fe(r,e,n){var t=Math.min(r.length,e.length)-1,a=new Array(t),i=new Array(t),o=-1;for(r[t]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++o<t;)a[o]=K(r[o],r[o+1]),i[o]=n(e[o],e[o+1]);return function(s){var u=Tr(r,s,1,t)-1;return i[u](a[u](s))}}function Se(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Ne(){var r=mr,e=mr,n=rr,t,a,i,o=P,s,u,h;function d(){var c=Math.min(r.length,e.length);return o!==P&&(o=ve(r[0],r[c-1])),s=c>2?Fe:Ae,u=h=null,f}function f(c){return c==null||isNaN(c=+c)?i:(u||(u=s(r.map(t),e,n)))(t(o(c)))}return f.invert=function(c){return o(a((h||(h=s(e,r.map(t),J)))(c)))},f.domain=function(c){return arguments.length?(r=Array.from(c,xe),d()):r.slice()},f.range=function(c){return arguments.length?(e=Array.from(c),d()):e.slice()},f.rangeRound=function(c){return e=Array.from(c),n=ue,d()},f.clamp=function(c){return arguments.length?(o=c?!0:P,d()):o!==P},f.interpolate=function(c){return arguments.length?(n=c,d()):n},f.unknown=function(c){return arguments.length?(i=c,f):i},function(c,p){return t=c,a=p,d()}}function Be(){return Ne()(P,P)}function Ce(r,e,n,t){var a=Hr(r,e,n),i;switch(t=X(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(e));return t.precision==null&&!isNaN(i=je(a,o))&&(t.precision=i),wr(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(i=ke(a,Math.max(Math.abs(r),Math.abs(e))))&&(t.precision=i-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(i=ge(a))&&(t.precision=i-(t.type==="%")*2);break}}return tr(t)}function $e(r){var e=r.domain;return r.ticks=function(n){var t=e();return qr(t[0],t[t.length-1],n??10)},r.tickFormat=function(n,t){var a=e();return Ce(a[0],a[a.length-1],n??10,t)},r.nice=function(n){n==null&&(n=10);var t=e(),a=0,i=t.length-1,o=t[a],s=t[i],u,h,d=10;for(s<o&&(h=o,o=s,s=h,h=a,a=i,i=h);d-- >0;){if(h=U(o,s,n),h===u)return t[a]=o,t[i]=s,e(t);if(h>0)o=Math.floor(o/h)*h,s=Math.ceil(s/h)*h;else if(h<0)o=Math.ceil(o*h)/h,s=Math.floor(s*h)/h;else break;u=h}return r},r}function Q(){var r=Be();return r.copy=function(){return Se(r,Q())},nr.apply(r,arguments),$e(r)}const Pe={class:"chart-container"},ze={class:"chart-container"},Ie={class:"chart",ref:""},Oe={class:"chart-container"},Re={class:"chart",ref:""},Te=Sr({__name:"GraphView",setup(r){const e=[{id:"p1",job:"Factory Owner",job_hierarchy:"boss",year_appear:1835,father_job:"Blacksmith",father_job_hierarchy:"worker"},{id:"p2",job:"Clerk",job_hierarchy:"worker",year_appear:1835,father_job:"Merchant",father_job_hierarchy:"boss"},{id:"p3",job:"Farmer",job_hierarchy:"worker",year_appear:1835,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p4",job:"Merchant",job_hierarchy:"boss",year_appear:1855,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p5",job:"Factory Worker",job_hierarchy:"worker",year_appear:1855,father_job:"Factory Owner",father_job_hierarchy:"boss"},{id:"p6",job:"Blacksmith",job_hierarchy:"worker",year_appear:1855,father_job:"Blacksmith",father_job_hierarchy:"worker"},{id:"p7",job:"Bank Manager",job_hierarchy:"boss",year_appear:1875,father_job:"Clerk",father_job_hierarchy:"worker"},{id:"p8",job:"Farmer",job_hierarchy:"worker",year_appear:1875,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p9",job:"Merchant",job_hierarchy:"boss",year_appear:1875,father_job:"Merchant",father_job_hierarchy:"boss"},{id:"p10",job:"Factory Worker",job_hierarchy:"worker",year_appear:1890,father_job:"Factory Worker",father_job_hierarchy:"worker"},{id:"p11",job:"Factory Owner",job_hierarchy:"boss",year_appear:1890,father_job:"Factory Worker",father_job_hierarchy:"worker"},{id:"p12",job:"Clerk",job_hierarchy:"worker",year_appear:1890,father_job:"Bank Manager",father_job_hierarchy:"boss"},{id:"p13",job:"Baker",job_hierarchy:"worker",year_appear:1835,father_job:"Baker",father_job_hierarchy:"worker"},{id:"p14",job:"Lawyer",job_hierarchy:"boss",year_appear:1835,father_job:"Clerk",father_job_hierarchy:"worker"},{id:"p15",job:"Teacher",job_hierarchy:"worker",year_appear:1855,father_job:"Teacher",father_job_hierarchy:"worker"},{id:"p16",job:"Doctor",job_hierarchy:"boss",year_appear:1855,father_job:"Doctor",father_job_hierarchy:"boss"},{id:"p17",job:"Shoemaker",job_hierarchy:"worker",year_appear:1855,father_job:"Shoemaker",father_job_hierarchy:"worker"},{id:"p18",job:"Innkeeper",job_hierarchy:"boss",year_appear:1875,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p19",job:"Carpenter",job_hierarchy:"worker",year_appear:1875,father_job:"Carpenter",father_job_hierarchy:"worker"},{id:"p20",job:"Printer",job_hierarchy:"worker",year_appear:1875,father_job:"Printer",father_job_hierarchy:"worker"},{id:"p21",job:"Bank Manager",job_hierarchy:"boss",year_appear:1890,father_job:"Bank Manager",father_job_hierarchy:"boss"},{id:"p22",job:"Butcher",job_hierarchy:"worker",year_appear:1890,father_job:"Butcher",father_job_hierarchy:"worker"},{id:"p23",job:"Merchant",job_hierarchy:"boss",year_appear:1835,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p24",job:"Tailor",job_hierarchy:"worker",year_appear:1835,father_job:"Tailor",father_job_hierarchy:"worker"},{id:"p25",job:"Doctor",job_hierarchy:"boss",year_appear:1835,father_job:"Teacher",father_job_hierarchy:"worker"},{id:"p26",job:"Lawyer",job_hierarchy:"boss",year_appear:1855,father_job:"Lawyer",father_job_hierarchy:"boss"},{id:"p27",job:"Baker",job_hierarchy:"worker",year_appear:1855,father_job:"Innkeeper",father_job_hierarchy:"boss"},{id:"p28",job:"Shopkeeper",job_hierarchy:"boss",year_appear:1855,father_job:"Shopkeeper",father_job_hierarchy:"boss"},{id:"p29",job:"Mason",job_hierarchy:"worker",year_appear:1875,father_job:"Mason",father_job_hierarchy:"worker"},{id:"p30",job:"Apothecary",job_hierarchy:"boss",year_appear:1875,father_job:"Clerk",father_job_hierarchy:"worker"},{id:"p31",job:"Farmer",job_hierarchy:"worker",year_appear:1890,father_job:"Merchant",father_job_hierarchy:"boss"},{id:"p32",job:"Blacksmith",job_hierarchy:"worker",year_appear:1890,father_job:"Blacksmith",father_job_hierarchy:"worker"},{id:"p32",job:"Blacksmith",job_hierarchy:"worker",year_appear:1890,father_job:"Blacksmith",father_job_hierarchy:"worker"},{id:"p33",job:"Shopkeeper",job_hierarchy:"boss",year_appear:1835,father_job:"Carpenter",father_job_hierarchy:"worker"},{id:"p34",job:"Tailor",job_hierarchy:"worker",year_appear:1835,father_job:"Tailor",father_job_hierarchy:"worker"},{id:"p35",job:"Bank Manager",job_hierarchy:"boss",year_appear:1835,father_job:"Clerk",father_job_hierarchy:"worker"},{id:"p36",job:"Farmer",job_hierarchy:"worker",year_appear:1835,father_job:"Merchant",father_job_hierarchy:"boss"},{id:"p37",job:"Carpenter",job_hierarchy:"worker",year_appear:1855,father_job:"Carpenter",father_job_hierarchy:"worker"},{id:"p38",job:"Doctor",job_hierarchy:"boss",year_appear:1855,father_job:"Doctor",father_job_hierarchy:"boss"},{id:"p39",job:"Factory Worker",job_hierarchy:"worker",year_appear:1855,father_job:"Factory Owner",father_job_hierarchy:"boss"},{id:"p40",job:"Baker",job_hierarchy:"worker",year_appear:1855,father_job:"Innkeeper",father_job_hierarchy:"boss"},{id:"p41",job:"Lawyer",job_hierarchy:"boss",year_appear:1855,father_job:"Lawyer",father_job_hierarchy:"boss"},{id:"p42",job:"Teacher",job_hierarchy:"worker",year_appear:1855,father_job:"Teacher",father_job_hierarchy:"worker"},{id:"p43",job:"Printer",job_hierarchy:"worker",year_appear:1875,father_job:"Printer",father_job_hierarchy:"worker"},{id:"p44",job:"Butcher",job_hierarchy:"worker",year_appear:1875,father_job:"Butcher",father_job_hierarchy:"worker"},{id:"p45",job:"Innkeeper",job_hierarchy:"boss",year_appear:1875,father_job:"Farmer",father_job_hierarchy:"worker"},{id:"p46",job:"Apothecary",job_hierarchy:"boss",year_appear:1875,father_job:"Clerk",father_job_hierarchy:"worker"},{id:"p47",job:"Shoemaker",job_hierarchy:"worker",year_appear:1875,father_job:"Shoemaker",father_job_hierarchy:"worker"},{id:"p48",job:"Merchant",job_hierarchy:"boss",year_appear:1890,father_job:"Merchant",father_job_hierarchy:"boss"},{id:"p49",job:"Factory Owner",job_hierarchy:"boss",year_appear:1890,father_job:"Factory Worker",father_job_hierarchy:"worker"},{id:"p50",job:"Clerk",job_hierarchy:"worker",year_appear:1890,father_job:"Bank Manager",father_job_hierarchy:"boss"}],n=["higher","identical","lower"];function t(s){return s.job_hierarchy==="boss"&&s.father_job_hierarchy==="worker"?"higher":s.job_hierarchy==="worker"&&s.father_job_hierarchy==="boss"?"lower":"identical"}function a(s){return s.job_hierarchy==="boss"&&s.father_job_hierarchy==="worker"?1:s.job_hierarchy==="worker"&&s.father_job_hierarchy==="boss"?-1:0}const i=Nr(null);function o(s){var B;const u=e.map(y=>({...y,resp_category:t(y),resp_value:a(y)})),h=(B=i.value)==null?void 0:B.parentElement;if(!h)return;const d=h.clientWidth,f=450,c={top:40,right:40,bottom:60,left:220},p=d-c.left-c.right,b=f-c.top-c.bottom,k=Q().domain([1800,1900]).range([0,p]),j=we().domain(n).range([0,b]).padding(.5),w=D(i.value).attr("viewBox",`0 0 ${p+c.left+c.right} ${b+c.top+c.bottom}`).attr("preserveAspectRatio","xMidYMid meet");w.selectAll("*").remove();const x=w.append("g").attr("transform",`translate(${c.left},${c.top})`);x.append("g").attr("transform",`translate(0,${b})`).call(ne(k).tickValues(s).tickFormat(tr("d"))),x.append("g").call(ae(j)),w.append("text").attr("x",c.left+p/2).attr("y",b+c.top+45).attr("text-anchor","middle").attr("font-size",14).attr("font-weight","bold").text("Year"),w.append("text").attr("x",c.left-160).attr("y",c.top+b/2).attr("text-anchor","middle").attr("transform",`rotate(-90,${c.left-160},${c.top+b/2})`).attr("font-size",14).attr("font-weight","bold").text("Responsibility relative to 1st generation");function v(){return(Math.random()-.5)*30}function S(){return(Math.random()-.5)*30}const m=ar().domain(n).range(["#2ca02c","#1f77b4","#d62728"]),A=D("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","#fff").style("border","1px solid #bbb").style("padding","6px 12px").style("border-radius","6px").style("pointer-events","none").style("font-size","13px").style("color","#222").style("box-shadow","2px 2px 8px #ccc");x.selectAll(".person").data(u).enter().append("circle").attr("class","person").attr("cx",y=>k(y.year_appear)+S()).attr("cy",y=>j(y.resp_category)+v()).attr("r",4).attr("fill",y=>m(y.resp_category)).attr("stroke","#333").attr("stroke-width",1.5).style("cursor","pointer").on("mouseover",function(y,l){A.transition().duration(150).style("opacity",1),A.html(`<strong>Job:</strong> ${l.job} (${l.job_hierarchy})<br>
        <strong>Father's job:</strong> ${l.father_job} (${l.father_job_hierarchy})`).style("left",y.pageX+18+"px").style("top",y.pageY-28+"px"),D(this).attr("stroke-width",3)}).on("mousemove",function(y){A.style("left",y.pageX+18+"px").style("top",y.pageY-28+"px")}).on("mouseout",function(){A.transition().duration(200).style("opacity",0),D(this).attr("stroke-width",1.5)});function M(y){const l=j("lower"),g=j("identical"),_=j("higher");return Q().domain([-1,0,1]).range([l,g,_])(y)}const N=s.map(y=>{const l=u.filter(F=>F.year_appear===y).map(F=>F.resp_value),g=l.length?Jr(l)??0:0,_=l.length?Er(l)??0:0;return{year:y,mean:g,std:_}});x.selectAll(".error-bar").data(N).enter().append("line").attr("class","error-bar").attr("x1",y=>k(y.year)).attr("x2",y=>k(y.year)).attr("y1",y=>M(y.mean-y.std)).attr("y2",y=>M(y.mean+y.std)).attr("stroke","#222").attr("stroke-width",2),x.selectAll(".mean-dot").data(N).enter().append("circle").attr("class","mean-dot").attr("cx",y=>k(y.year)).attr("cy",y=>M(y.mean)).attr("r",6).attr("fill","#222")}return Br(()=>{o([1835,1855,1875,1890])}),Cr(()=>{window.removeEventListener("resize",o)}),(s,u)=>(E(),V($r,null,[$("div",Pe,[u[0]||(u[0]=$("h2",{class:"chart-title"}," Professional Responsibilities ",-1)),u[1]||(u[1]=$("h3",{class:"chart-subtitle"}," of the 2nd Generation relative to those of the 1st Generation ",-1)),(E(),V("svg",{class:"chart",ref_key:"svgRef",ref:i},null,512))]),$("div",ze,[u[2]||(u[2]=$("h2",{class:"chart-title"}," Training Duration ",-1)),u[3]||(u[3]=$("h3",{class:"chart-subtitle"}," of the 2nd Generation relative to those of the 1st Generation ",-1)),(E(),V("svg",Ie,null,512))]),$("div",Oe,[u[4]||(u[4]=$("h2",{class:"chart-title"}," Job Physicality ",-1)),u[5]||(u[5]=$("h3",{class:"chart-subtitle"}," of the 2nd Generation relative to those of the 1st Generation ",-1)),(E(),V("svg",Re,null,512))])],64))}}),Ee=Pr(Te,[["__scopeId","data-v-5aa7bfa9"]]);export{Ee as default};
